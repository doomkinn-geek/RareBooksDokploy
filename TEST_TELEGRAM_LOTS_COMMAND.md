# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã /lots –≤ Telegram –±–æ—Ç–µ

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã:
- **Entity Framework LINQ –∑–∞–ø—Ä–æ—Å—ã** –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- **–ü–æ–∏—Å–∫ –ø–æ —Ç–µ–≥–∞–º** —á–µ—Ä–µ–∑ `EF.Property<string>` –∏ `ILike`
- **–ü–æ–∏—Å–∫ –ø–æ –≥–æ—Ä–æ–¥–∞–º** —á–µ—Ä–µ–∑ `EF.Functions.ILike`
- **–í—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã** —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ SQL

## üîÑ –ü–æ—à–∞–≥–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### 1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –±–æ—Ç–µ:
```
/start                              # –ü–æ–ª—É—á–∏—Ç—å Telegram ID
/register email@example.com pass123  # –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç
# –∏–ª–∏
/login email@example.com pass123     # –í–æ–π—Ç–∏ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –ø–æ–∏—Å–∫–∞:
```
/settings                           # –û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏ –≤ –±–æ—Ç–µ:
# - –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ü—É—à–∫–∏–Ω", "–ø–æ—ç–∑–∏—è")
# - –î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1000-10000 —Ä—É–±–ª–µ–π)
# - –ì–æ—Ä–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ú–æ—Å–∫–≤–∞", "–°–ü–±")
# - –ì–æ–¥—ã –∏–∑–¥–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1900-2000)
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã /lots:
```
/lots                               # –ü–æ–∫–∞–∑–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –ª–æ—Ç—ã (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ 1)
/lots 2                             # –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É 2
/lots 5                             # –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É 5
```

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
```
üìö –ê–∫—Ç–∏–≤–Ω—ã–µ –ª–æ—Ç—ã –ø–æ –≤–∞—à–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º

üìä –ù–∞–π–¥–µ–Ω–æ: X –ª–æ—Ç–æ–≤
üìÑ –°—Ç—Ä–∞–Ω–∏—Ü–∞: 1/Y

–ê–∫—Ç–∏–≤–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:
  üîç –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: –≤–∞—à–∏_—Å–ª–æ–≤–∞
  üí∞ –¶–µ–Ω–∞: –æ—Ç X –¥–æ Y ‚ÇΩ
  üìÖ –ì–æ–¥: –æ—Ç XXXX –¥–æ YYYY
  üèôÔ∏è –ì–æ—Ä–æ–¥–∞: –≤–∞—à–∏_–≥–æ—Ä–æ–¥–∞

1. –ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏
üí∞ –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞: X ‚ÇΩ
‚è∞ –û—Å—Ç–∞–ª–æ—Å—å: Y –¥–Ω./—á./–º–∏–Ω.
üèôÔ∏è –ì–æ—Ä–æ–¥: –ù–∞–∑–≤–∞–Ω–∏–µ
üìÖ –ì–æ–¥ –∏–∑–¥–∞–Ω–∏—è: XXXX
üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ù–∞–∑–≤–∞–Ω–∏–µ
üë• –°—Ç–∞–≤–æ–∫: X
üìù –û–ø–∏—Å–∞–Ω–∏–µ...

[—Å–ª–µ–¥—É—é—â–∏–µ –ª–æ—Ç—ã...]

üìñ –ù–∞–≤–∏–≥–∞—Ü–∏—è:
  /lots 2 - —Å–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
  /lots [–Ω–æ–º–µ—Ä] - –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É

‚öôÔ∏è /settings - –∏–∑–º–µ–Ω–∏—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø–æ–∏—Å–∫–∞
```

### ‚ùå –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

| –ü—Ä–æ–±–ª–µ–º–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|---------|
| "–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫" | –ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫—Ä–∏—Ç–µ—Ä–∏–∏ | –í—ã–ø–æ–ª–Ω–∏—Ç—å `/settings` |
| "–ü–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º –Ω–µ—Ç –ª–æ—Ç–æ–≤" | –°–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã | –†–∞—Å—à–∏—Ä–∏—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤ `/settings` |
| "–ê–∫–∫–∞—É–Ω—Ç –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω" | –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω | –í—ã–ø–æ–ª–Ω–∏—Ç—å `/register` –∏–ª–∏ `/login` |
| –û—à–∏–±–∫–∞ LINQ | –ö–æ–¥ –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω | –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞:
```bash
# –õ–æ–≥–∏ backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
sudo docker compose logs --tail=50 backend | grep -i telegram

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ LINQ
sudo docker compose logs backend | grep -i "linq\|entity"

# –û–±—â–∏–µ –æ—à–∏–±–∫–∏ –±–æ—Ç–∞
sudo docker compose logs backend | grep -i "TelegramBotService"
```

### SQL –∑–∞–ø—Ä–æ—Å—ã –≤ –ª–æ–≥–∞—Ö:
–ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ EF, –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–ø—Ä–æ—Å—ã —Ç–∏–ø–∞:
```sql
SELECT ... FROM "BooksInfo" 
WHERE "EndDate" > @__now_0 
AND ILIKE("NormalizedTitle", @__keyword_1) 
AND ILIKE("City", @__city_2)
...
```

## üéØ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:

### –¢–µ—Å—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤:
1. **–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ "–ü—É—à–∫–∏–Ω" ‚Üí `/lots` –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –∫–Ω–∏–≥–∏ —Å "–ü—É—à–∫–∏–Ω" –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏/–æ–ø–∏—Å–∞–Ω–∏–∏/—Ç–µ–≥–∞—Ö
2. **–¶–µ–Ω—ã:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω 1000-5000 ‚Üí `/lots` –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫–Ω–∏–≥–∏ –≤ —ç—Ç–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ
3. **–ì–æ—Ä–æ–¥–∞:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ "–ú–æ—Å–∫–≤–∞" ‚Üí `/lots` –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –ª–æ—Ç—ã –∏–∑ –ú–æ—Å–∫–≤—ã
4. **–ì–æ–¥–∞:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ 1900-1950 ‚Üí `/lots` –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –∫–Ω–∏–≥–∏ —Ç–æ–ª—å–∫–æ —ç—Ç–∏—Ö –≥–æ–¥–æ–≤

### –¢–µ—Å—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏–∏:
1. `/lots` ‚Üí –∑–∞–ø–æ–º–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü
2. `/lots 2` ‚Üí –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
3. `/lots 999` ‚Üí –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞

## üèÅ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:

‚úÖ **–ö–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫**  
‚úÖ **–§–∏–ª—å—Ç—Ä—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**  
‚úÖ **–ü–∞–≥–∏–Ω–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç**  
‚úÖ **–í—Ä–µ–º—è –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è**  
‚úÖ **–ù–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç**  
‚úÖ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–ª–∏—è—é—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**  

## üìû –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `sudo docker compose logs backend`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend: `sudo docker compose restart backend`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î: `/api/test/setup-status`
4. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
