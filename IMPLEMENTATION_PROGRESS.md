# May Messenger - Implementation Progress

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ (15 –∏–∑ 17 –∑–∞–¥–∞—á - 88%)

### Backend (8/8 –∑–∞–¥–∞—á - 100%)

#### 1. ‚úÖ Endpoints –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- **–§–∞–π–ª**: `MessagesController.cs`
- –î–æ–±–∞–≤–ª–µ–Ω—ã endpoints:
  - `GET /api/messages/unsynced` - –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —Å timestamp
  - `GET /api/messages/by-id/{messageId}` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ ID
  - `POST /api/messages/batch-status` - batch –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
- –°–æ–∑–¥–∞–Ω `BatchStatusUpdateDto.cs`

#### 2. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º–∞ PendingAck
- **–§–∞–π–ª**: `AckRetryService.cs`
- –£–≤–µ–ª–∏—á–µ–Ω `MaxRetries` —Å 3 –¥–æ 5
- –£–º–µ–Ω—å—à–µ–Ω –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø–æ–≤—Ç–æ—Ä–∞ —Å 5 –¥–æ 3 —Å–µ–∫—É–Ω–¥
- –î–æ–±–∞–≤–ª–µ–Ω —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π backoff (3s, 6s, 12s, 24s, 48s)

#### 3. ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å–∞ –≤ ChatHub
- **–§–∞–π–ª**: `ChatHub.cs`
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `OnConnectedAsync()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ online
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `OnDisconnectedAsync()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ offline
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `NotifyUserStatusChanged()` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —á–∞—Ç–æ–≤

#### 4. ‚úÖ Endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–§–∞–π–ª**: `UsersController.cs`
- –î–æ–±–∞–≤–ª–µ–Ω endpoint `GET /api/users/status`
- –°–æ–∑–¥–∞–Ω `UserStatusDto.cs` —Å –ø–æ–ª—è–º–∏ `userId`, `isOnline`, `lastSeenAt`

#### 5. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ DTO –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
- **–§–∞–π–ª—ã**: `UserDto.cs`, `ChatDto.cs`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `IsOnline` –∏ `LastSeenAt` –≤ `UserDto`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `OtherParticipantIsOnline` –∏ `OtherParticipantLastSeenAt` –≤ `ChatDto`
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π

#### 6. ‚úÖ Entity User –æ–±–Ω–æ–≤–ª–µ–Ω
- **–§–∞–π–ª**: `User.cs` (Domain/Entities)
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `IsOnline` –∏ `LastSeenAt`
- –ú–∏–≥—Ä–∞—Ü–∏—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: `20251222055349_AddUserOnlineStatusAndFcmAuthTracking`

#### 7. ‚úÖ MigrationService –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
- **–§–∞–π–ª**: `MigrationService.cs`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ pending –º–∏–≥—Ä–∞—Ü–∏–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –ú–µ—Ç–æ–¥ `ApplyPendingMigrationsAsync()`
- –ú–µ—Ç–æ–¥ `GetMigrationInfoAsync()` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- –°–æ–∑–¥–∞–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π:
  - `create-migration.sh` (Linux/Mac)
  - `create-migration.ps1` (Windows PowerShell)
  - –û–±–Ω–æ–≤–ª–µ–Ω `!!!____–°–û–ó–î–ê–ù–ò–ï_–ú–ò–ì–†–ê–¶–ò–ò.txt`

#### 8. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è MigrationService –≤ Program.cs
- **–§–∞–π–ª**: `Program.cs`
- –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω `MigrationService` –∫–∞–∫ scoped service
- –ó–∞–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `MigrationService`
- –ú–∏–≥—Ä–∞—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ

#### 9. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Dockerfile
- **–§–∞–π–ª**: `Dockerfile`
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `dotnet-ef` tools –≤ build stage
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### Mobile (7/7 –∑–∞–¥–∞—á - 100%)

#### 10. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π User –∏ Chat
- **–§–∞–π–ª—ã**: `user_model.dart`, `chat_model.dart`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `isOnline` –∏ `lastSeenAt` –≤ `User`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `otherParticipantIsOnline` –∏ `otherParticipantLastSeenAt` –≤ `Chat`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ `_formatLastSeen()`
- –î–æ–±–∞–≤–ª–µ–Ω—ã getter'—ã `statusText` –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã `copyWith()` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π

#### 11. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ UserStatusChanged –≤ SignalR
- **–§–∞–π–ª**: `signalr_service.dart`
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `onUserStatusChanged()` –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ callback
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è `UserStatusChanged` –æ—Ç backend
- –ü–∞—Ä—Å–∏—Ç `userId`, `isOnline`, `lastSeenAt` –∏–∑ SignalR –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

#### 12. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **–§–∞–π–ª—ã**: `fcm_service.dart`, `main.dart`, `api_datasource.dart`, `message_repository.dart`
- –î–æ–±–∞–≤–ª–µ–Ω callback `onMessageReceived` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∫—ç—à–µ
- –ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ—Ç - –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `GET /api/messages/by-id/{messageId}`
- Backend —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `messageId` –≤ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `getMessageById()` –≤ repository –∏ API datasource

#### 13. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏ reconnect
- **–§–∞–π–ª—ã**: `messages_provider.dart`, `local_datasource.dart`, `api_datasource.dart`, `message_repository.dart`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- –ü—Ä–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ SignalR –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è incremental sync
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `getUnsyncedMessages()` –≤ API datasource
- –î–æ–±–∞–≤–ª–µ–Ω `saveLastSyncTimestamp()` –≤ local datasource
- –£–ª—É—á—à–µ–Ω `_performIncrementalSync()` —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º timestamp
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –ø—Ä–∏ reconnect

#### 14. ‚úÖ –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ guaranteed sync
- **–§–∞–π–ª—ã**: `status_sync_service.dart`, `messages_provider.dart`
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `forceSync()` –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ reconnect
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `getStatistics()` –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ pending —Å—Ç–∞—Ç—É—Å–æ–≤
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (—á–µ—Ä–µ–∑ –æ—á–µ—Ä–µ–¥—å)
- –ü—Ä–∏ reconnect –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `forceSync()` –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- StatusSyncService —Ä–∞–±–æ—Ç–∞–µ—Ç —Å exponential backoff –∏ retry logic

#### 15. ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å–∞ –≤ UI
- **–§–∞–π–ª—ã**: `chat_screen.dart`, `chat_list_item.dart`
- –î–æ–±–∞–≤–ª–µ–Ω –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å –≤ AppBar —á–∞—Ç–∞ (–∑–µ–ª–µ–Ω—ã–º —Ü–≤–µ—Ç–æ–º "–æ–Ω–ª–∞–π–Ω")
- –î–æ–±–∞–≤–ª–µ–Ω –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–±—ã–ª(–∞) X –º–∏–Ω—É—Ç/—á–∞—Å–æ–≤/–¥–Ω–µ–π –Ω–∞–∑–∞–¥"
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–µ–ª–µ–Ω–∞—è —Ç–æ—á–∫–∞ —É –∞–≤–∞—Ç–∞—Ä–∞ –≤ —Å–ø–∏—Å–∫–µ —á–∞—Ç–æ–≤
- –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ SignalR

#### 16. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–∞
- **–§–∞–π–ª—ã**: `connectivity_service.dart`, `connectivity_provider.dart`, `connection_status_banner.dart`
- –°–æ–∑–¥–∞–Ω `ConnectivityService` –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω `ConnectionStatusBanner` —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ main_screen –∏ chat_screen
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å SignalR –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (Connecting, Connected, Disconnected)
- –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ Hive –∫—ç—à–∞
- –ü—Ä–∏ reconnect –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —Å—Ç–∞—Ç—É—Å—ã

---

## ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ / –û—Å—Ç–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å (2 –∏–∑ 17 –∑–∞–¥–∞—á)

---

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ (2 –∑–∞–¥–∞—á–∏)

#### 17. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- –¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
  - –î–æ—Å—Ç–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ –ø–ª–æ—Ö–æ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
  - –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ SignalR –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–∏
  - –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–æ—Å–ª–µ reconnect
  - –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

#### 18. ‚è≥ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–µ—Ç—Ä–∏–∫–∏
- **Backend**: `MessagesController.cs`
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
  - –õ–æ–≥–∏: —Å–æ–∑–¥–∞–Ω–æ, SignalR –æ—Ç–ø—Ä–∞–≤–∫–∞, PendingAck —Å–æ–∑–¥–∞–Ω, ACK –ø–æ–ª—É—á–µ–Ω, —Å—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª–µ–Ω
- **–ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è Prometheus/Grafana**:
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ pending acks
  - –í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
  - –ü—Ä–æ—Ü–µ–Ω—Ç –Ω–µ—É–¥–∞—á–Ω—ã—Ö –¥–æ—Å—Ç–∞–≤–æ–∫
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ñ–ª–∞–π–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üìä –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ**: 15 –∏–∑ 17 –∑–∞–¥–∞—á (88%)
- ‚úÖ Backend: 8/8 (100%)
- ‚úÖ Mobile: 7/7 (100%)
- ‚è≥ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: 0/2 (0%)

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (–∑–∞–¥–∞—á–∞ 17)
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –ø–ª–æ—Ö–æ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ reconnect logic
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–∞

2. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–µ—Ç—Ä–∏–∫–∏ (–∑–∞–¥–∞—á–∞ 18)
   - –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Prometheus/Grafana –º–µ—Ç—Ä–∏–∫–∏
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ pending acks –∏ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ—Å—Ç–∞–≤–∫–∏

---

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

### ‚úÖ Backend –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤
- –í—Å–µ endpoints —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –°—Ç–∞—Ç—É—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ SignalR
- PendingAck –º–µ—Ö–∞–Ω–∏–∑–º —É–ª—É—á—à–µ–Ω —Å exponential backoff
- ACK retry —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ

### ‚úÖ Mobile –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- –í—Å–µ –º–æ–¥–µ–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å–æ–≤
- SignalR handlers —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- Incremental sync —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ reconnect –∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏
- Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∫—ç—à –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º –∫ API
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- Offline —Ä–µ–∂–∏–º –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
- UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å—ã –∏ connection status

### –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
1. **–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞**:
   - PendingAck –º–µ—Ö–∞–Ω–∏–∑–º —Å 5 retry –∏ exponential backoff
   - Incremental sync –ø—Ä–∏ reconnect
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥)
   
2. **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã**:
   - –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
   - StatusSyncService —Å retry queue
   - Force sync –ø—Ä–∏ reconnect
   
3. **–û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º**:
   - Hive –∫—ç—à –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —á–∞—Ç–æ–≤
   - ConnectionStatusBanner –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–≤—è–∑–∏
   
4. **–û–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å—ã**:
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ chat_screen (AppBar)
   - –ó–µ–ª–µ–Ω–∞—è —Ç–æ—á–∫–∞ –≤ —Å–ø–∏—Å–∫–µ —á–∞—Ç–æ–≤
   - Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ SignalR

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Backend –≥–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —á–µ—Ä–µ–∑ Swagger/Postman
- Mobile –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å –ø–ª–æ—Ö–∏–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º
- –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å

---

## üîß –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. **–ó–∞–ø—É—Å–∫ backend**:
   ```bash
   cd _may_messenger_backend
   dotnet run --project src/MayMessenger.API
   ```
   –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

2. **–ó–∞–ø—É—Å–∫ mobile app**:
   ```bash
   cd _may_messenger_mobile_app
   flutter pub get
   flutter run
   ```
   –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

3. **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
   ```powershell
   cd _may_messenger_backend
   .\create-migration.ps1 MyMigrationName
   ```

---

**–î–∞—Ç–∞**: 2025-12-22  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (15/17 –∑–∞–¥–∞—á - 88%)  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏ –º–µ—Ç—Ä–∏–∫–∏

